<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>책 카테고리 선택</title>
    <style>
        form{
            width:66%;
        }
        div{
            border: 1px solid red;
            width:66%; height:180px;
        }
    </style>
</head>
<body>
    <h1>Practice</h1>
    <form>
        <fieldset>
            <legend>취미</legend>


            <input type="checkbox" id="sa" name="books" 
            value="selectAll"  onclick="selectAll();" >
            <label for="selectAll">전체선택</label>

            <input type="checkbox" class="checkboxes" name="books"
             value="common" onclick="deselectwhole()">
             <label for="common">종합</label>

            <input type="checkbox" class="checkboxes" name="books"
             value="novel" onclick="deselectwhole()">
             <label for="novel">소설</label>

            <input type="checkbox" class="checkboxes" name="books"
             value="poet" onclick="deselectwhole()">
             <label for="poet">시/에세이</label>

            <input type="checkbox" class="checkboxes" name="books"
             value="economy" onclick="deselectwhole()">
             <label for="economy">경제/경영</label>
            <input type="checkbox" class="checkboxes" name="books"
             value="selfDevelop" onclick="deselectwhole()">
             <label for="selfDevelop">자기계발</label>
            <input type="checkbox" class="checkboxes" name="books"
             value="child" onclick="deselectwhole()">
             <label for="child">아동</label><br>
            <input type="checkbox" class="checkboxes" name="books"
             value="travel" onclick="deselectwhole()">
             <label for="travel">여행</label>
            <input type="checkbox" class="checkboxes" name="books"
             value="science" onclick="deselectwhole()">
             <label for="science">과학</label>
            <input type="checkbox" class="checkboxes" name="books"
             value="history" onclick="deselectwhole()">
             <label for="history">역사/문화</label>
            <input type="checkbox" class="checkboxes" name="books"
             value="foreign" onclick="deselectwhole()">
            <label for="foreign">외국어</label>
            <input type="checkbox" class="checkboxes" name="books"
             value="computer" onclick="deselectwhole()">
             <label for="computer">컴퓨터</label>
            <input type="checkbox" class="checkboxes" name="books"
             value="cartoon" onclick="deselectwhole()">
             <label for="cartoon">만화</label>
        </fieldset>
        <button onclick="selectCategory();">카테고리 선택</button>
        </form>
        <div id="fill"></div>
        
        <script>
            var one = document.getElementById('sa');
            var whole = document.getElementsByClassName('checkboxes');

            function selectAll(){
                // 1. 전체선택 체크 박스 클릭시 다른 모든 체크박스 클릭하는 효과
                //      전체선택 체크 박스의 정보 불러오기
                // 1)    위 박스.checked == true => 이면 
                //      다른 모든 체크박스.checked = true 로 바꾸기
                // 2)    박스.checked== flase => 다른박스들.checked = false

                // 2. 전체선택 체크박스 클릭된 상태 && 다른 체크박스를 해제하면 => 모두 해제
                console.log(one.value);
                if(one.checked===true){
                    for(var i=0; i<whole.length; i++){
                        whole[i].checked = true;
                    }
                } else {
                    for(var i=0; i<whole.length; i++){
                        whole[i].checked = false;
                    }
                }
            }

            function deselectwhole(){
                if(one.checked===true){
                    for(var i=0; i<whole.length; i++){
                        whole[i].checked = false;
                    }
                    one.checked=false;
                }
            }

            function selectCategory(){
                var fill = document.getElementById('fill');
                console.log(fill);
                var text = 0;
                for(var i=0; i<whole.length; i++){
                    if(whole[i].checked == true){
                        text += whole[i].value+" ";
                    }
                }
                fill.innerHTML += text;
            }
        </script>

</body>
</html>